(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return colLetterFromNumber}),__webpack_require__.d(__webpack_exports__,"b",function(){return updateCellAndGrid});var _Users_lcvista_dev_rcell_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_Users_lcvista_dev_rcell_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),_Users_lcvista_dev_rcell_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),isFormula=function(e){return"string"===typeof e&&"="===e[0]},removeLeadingEquals=function(e){return"="!==e[0]?e:e.slice(1)},ABCS="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),colFromLetters=function(e){var t=e.split("");if(1===t.length)return ABCS.indexOf(t[0])},colLetterFromNumber=function(e){for(var t=e+1,r="",o=1,n=26;(t-=o)>=0;o=n,n*=26)r=String.fromCharCode(parseInt(t%n/o)+65)+r;return r},cellToRowCol=function(e){for(var t,r=/[a-zA-Z]/,o=[],n=e.split(""),a=0;a<n.length;a++){var i=n[a];if(i.search(r)<0){t=e.slice(a);break}o.push(i.toUpperCase())}var c=o.join(""),l=colFromLetters(c);return[Number(t-1),l]},CELL_REFERENCE_REGEX=/[a-zA-Z]+[0-9]+/,updateGrid=function(e,t){var r=!0,o=!1,n=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var c=a.value;e[c.row][c.col]=c}}catch(l){o=!0,n=l}finally{try{r||null==i.return||i.return()}finally{if(o)throw n}}return e},updateCellAndGrid=function(e){var t=e.action,r=e.grid,o=Object(_Users_lcvista_dev_rcell_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__.a)({},r[t.row][t.col]),n=parseAndEvaluate({action:t,grid:r}),a=[],i=Object(_Users_lcvista_dev_rcell_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__.a)({},o,n);return a.push(i),updateGrid(r,a)},parseCellValues=function e(t){var r=t.value,o=t.grid,n=r.match(CELL_REFERENCE_REGEX);if(null===n)return r;var a=n[0],i=cellToRowCol(a),c=i[0],l=i[1],s=String(o[c][l].calculatedValue);return e({value:r.replace(a,s),grid:o})},checkProviderWasVisited=function(e,t){return t[e[0]]&&t[e[0]][e[1]]},getNewProviders=function(e){for(var t=removeLeadingEquals(e),r=CELL_REFERENCE_REGEX.exec(t),o=new Set;r;)o.add(r[0]),t=t.replace(r[0],""),r=CELL_REFERENCE_REGEX.exec(t);return Object(_Users_lcvista_dev_rcell_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(o).map(cellToRowCol)},checkCyclic=function e(t,r,o){var n=r[t[0]][t[1]].providers||[];if(0===n.length)return!1;var a=!0,i=!1,c=void 0;try{for(var l,s=n[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var u=l.value;if(checkProviderWasVisited(u,o))return!0;if(o[t[0]]=Object(_Users_lcvista_dev_rcell_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__.a)({},o[t[0]],Object(_Users_lcvista_dev_rcell_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},t[1],!0)),e(u,r,o))return!0}}catch(p){i=!0,c=p}finally{try{a||null==s.return||s.return()}finally{if(i)throw c}}return!1},acyclic=function(e){var t=e.action,r=e.grid,o=Object(_Users_lcvista_dev_rcell_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},t.row,Object(_Users_lcvista_dev_rcell_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},t.col,!0)),n=getNewProviders(t.value),a=!0,i=!1,c=void 0;try{for(var l,s=n[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var u=l.value;if(checkCyclic(u,r,o))return!1}}catch(p){i=!0,c=p}finally{try{a||null==s.return||s.return()}finally{if(i)throw c}}return!0},parseAndEvaluate=function parseAndEvaluate(_ref3){var action=_ref3.action,grid=_ref3.grid,calculatedValue,error;if(void 0!==action.value&&isFormula(action.value))if(acyclic({action:action,grid:grid})){var withCellValues=parseCellValues({value:removeLeadingEquals(action.value),grid:grid});try{calculatedValue=eval(withCellValues)}catch(err){calculatedValue="!!ERROR",error="!!ERROR"}}else calculatedValue="!!Circular Reference",error="!!Circular Reference";else calculatedValue=action.value;var providers=getNewProviders(action.value);return{providers:providers,calculatedValue:calculatedValue,enteredValue:action.value,displayValue:calculatedValue,error:error}}},28:function(e,t,r){e.exports=r(47)},45:function(e,t,r){},47:function(e,t,r){"use strict";r.r(t);var o={};r.r(o),r.d(o,"setCursor",function(){return Z}),r.d(o,"setEditing",function(){return Q}),r.d(o,"resetStartingEditorValue",function(){return $}),r.d(o,"setValue",function(){return ee}),r.d(o,"scroll",function(){return te}),r.d(o,"jump",function(){return re}),r.d(o,"refreshViewportDimensions",function(){return oe}),r.d(o,"toggleShiftGrid",function(){return ne});var n=r(0),a=r.n(n),i=r(6),c=r(24),l=r(7),s=r(25),u=r(8),p=function(e){for(var t=[],r=0;r<e;r++)t.push(100);return t},d=function(e){for(var t=[],r=0;r<100;r++)t.push(27);return t},v={totalRows:100,totalCols:100,cursorLocation:[0,0],editingLocation:!1,values:function(e,t){for(var r=[],o=0;o<t;o++){for(var n=[],a=0;a<e;a++)n.push({enteredValue:"",displayValue:"",calculatedValue:"",row:o,col:a});r.push(n)}return r[0][0]=Object(u.a)({},r[0][0],{enteredValue:"=b1",displayValue:1,calculatedValue:1,providers:[[0,1]]}),r[0][1]=Object(u.a)({},r[0][1],{enteredValue:"1",displayValue:1,calculatedValue:1,dependents:[[0,0]]}),r}(100,100),gridShifted:!1,viewport:[0,0],viewportBottom:null,viewportRight:null,widths:p(100),heights:d()},f=localStorage.getItem("xxxrcell"),_=f?JSON.parse(f):v;_.viewportRight=20,_.viewportBottom=20,_.widths=p(_.totalCols),_.heights=d(_.totalRow),_.viewport=[0,0],_.cursorLocation=[0,0];var h=_,w="SET_CURSOR",b="SET_EDITING",m="RESET_STARTING_EDITOR_VALUE",g="SET_VALUE",E="SCROLL",O="JUMP",y="TOGGLE_SHIFT_GRID",C="REFRESH_VIEWPORT",j="up",L="down",R="left",k="right",S=r(11),V=function(e,t){var r=t[0]<0||t[0]>=e.totalRows||t[1]<0||t[1]>=e.totalCols-1;return console.log("".concat(r?"OFFGRID!":"")),r},D=function(e,t,r){switch(e){case"left":return r[1]===t.viewport[1]-1;case"right":return r[1]===t.viewportRight-3;case"top":return r[0]===t.viewport[0]-1;case"bottom":return r[0]===t.viewportBottom-4;default:return!1}},M=function(e,t){localStorage.setItem("rcell",JSON.stringify(t))},P=function(e,t){var r,o=t.cursorLocation,n=t.values,a=t.totalCols,i=t.totalRows,c=function(e){return""===n[e[0]][e[1]].enteredValue},l=function(e,t,r){var o,n;if(r===k){for(o=t+1;o<a-1;){if(!c([e,o]))return[e,o];o++}return[e,Math.min(o,a-1)]}if(r===R){for(o=t-1;o>=0;){if(!c([e,o]))return[e,o];o--}return[e,Math.max(o,0)]}if(r===L){for(n=e+1;n<i;){if(!c([n,t]))return[n,t];n++}return[Math.min(n,i-1),t]}if(r===j){for(n=e-1;n>=0;){if(!c([n,t]))return[n,t];n--}return[0,t]}},s=[o[0],o[1]],u=s[0],p=s[1];if(e===k){if(p===a-1)return o;r=c([u,p+1])}else if(e===R){if(0===p)return o;r=c([u,p-1])}else if(e===L){if(u===i-1)return o;r=c([u+1,p])}else if(e===j){if(0===u)return o;r=c([u-1,p])}return c([u,p])?l(u,p,e):r?l(u,p,e):function(e,t,r){var o,n;if(r===k){for(n=t+2;n<a;){if(c([e,n]))return[e,Math.min(a-1,n-1)];n++}return[e,a-1]}if(r===R){for(n=t-2;n>=0;){if(c([e,n]))return[e,Math.max(0,n+1)];n--}return[e,0]}if(r===L){for(o=e+2;o<i;){if(c([o,t]))return[Math.min(i-1,o-1),t];o++}return[i-1,t]}if(r===j){for(o=e-2;o>=0;){if(c([o,t]))return[Math.max(0,o+1),t];o--}return[0,t]}}(u,p,e)},A=r(27),N=function(e,t){var r,o,n=t.viewportBottom,a=t.viewportRight,i=t.totalCols,c=t.totalRows,l=t.heights,s=t.widths,p=Object(A.a)(t.viewport,2),d=p[0],v=p[1];if(e.direction===j){if(0===d)return t;r=[d-e.value,v]}else if(e.direction===L){if(n===c)return t;r=[d+1,v]}else if(e.direction===R){if(0===v)return t;r=[d,v-1]}else if(e.direction===k){if(a===i)return t;r=[d,v+1]}return(o=Object(u.a)({},t,{viewport:r})).viewportBottom=K({heights:l,viewport:r,totalRows:c}),o.viewportRight=B({widths:s,viewport:r,totalCols:i}),o},B=function(e){for(var t=e.widths,r=e.viewport,o=e.totalCols,n=t[r[1]],a=r[1]+1,i=a;i<o&&n+t[i]<window.outerWidth-0;i++)a++,n+=t[i];return a},T=function(e){for(var t=e.widths,r=e.viewport,o=t[r[1]],n=r[1]-1,a=n;a>0&&o+t[a]<window.outerWidth-0;a--)n--,o+=t[a];return n+1},U=function(e){for(var t=e.heights,r=e.viewport,o=t[r[1]],n=r[0]-1,a=n;a>0&&o+t[a]<window.outerHeight-100;a--)n--,o+=t[a];return n+5},K=function(e){for(var t=e.heights,r=e.viewport,o=e.totalRows,n=t[r[0]],a=r[0]+1,i=a;i<o&&n+t[i]<window.innerHeight-100;i++)a++,n+=t[i];return a+5},I=function(e){var t=e.state,r=e.newCursorLocation,o=!1,n=function(e){var t=e.state,r=e.newCursorLocation,o=t.viewport,n=t.viewportRight,a=t.viewportBottom,i=Object(S.a)(o),c=!1;return r[1]<o[1]?(i[1]=r[1],c=!0):r[1]>n&&(i[1]=r[1],i[1]=Math.min(T(Object(u.a)({},t,{viewport:i})),i[1]),c=!0),r[0]<o[0]?(i[0]=r[0],c=!0):r[0]>a&&(i[0]=r[0],i[0]=Math.min(U(Object(u.a)({},t,{viewport:i})),i[0]),c=!0),c&&i}({state:t,newCursorLocation:r});if(n)o=n;else{var a=function(e){var t=e.state,r=e.newCursorLocation,o=Object(S.a)(t.viewport),n=!1;return D("left",t,r)&&(n=!0,o[1]-=1),D("right",t,r)&&t.cursorLocation[1]<r[1]&&(n=!0,o[1]+=1),D("top",t,r)&&(n=!0,o[0]-=1),D("bottom",t,r)&&t.cursorLocation[0]<r[0]&&(n=!0,o[0]+=1),n&&o}({state:t,newCursorLocation:r});a&&(o=a)}var i=t.heights,c=t.widths,l=t.totalCols,s=t.totalRows;return o?{viewport:o,viewportBottom:K({heights:i,viewport:o,totalRows:s}),viewportRight:B({widths:c,viewport:o,totalCols:l})}:{}},x=r(13);var W=Object(l.c)({grid:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case E:return N(o,r);case b:return e=Object(u.a)({},r,{editingLocation:!o.off&&[o.row,o.col],cellEditorStartingValue:o.value});case w:return V(r,[o.row,o.col])?r:(t=[o.row,o.col],Object(u.a)({},r,{cursorLocation:t},I({state:r,newCursorLocation:t})));case O:t=P(o.direction,r);var n=I({state:r,newCursorLocation:t});return Object(u.a)({},r,{cursorLocation:t},n);case g:var a=Object(x.b)({grid:r.values,action:o});return e=Object(u.a)({},r,{values:a}),M("rcell",e),e;case y:return e=Object(u.a)({},r,{gridShifted:!r.gridShifted});case m:return e=Object(u.a)({},r,{cellEditorStartingValue:void 0});case C:return e=Object(u.a)({},r,{viewportBottom:K(r),viewportRight:B(r)});default:return r}}}),F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,G=Object(l.e)(W,F(Object(l.a)(s.a))),H=r(1),q=r(2),X=r(4),z=r(3),J=r(5),Y=function(e){var t=e.gridShifted,r=e.actions;return a.a.createElement("button",{className:"grid-shift-button",onClick:r.toggleShiftGrid},t?"unshift":"shiftGrid")},Z=function(e,t){return{type:w,row:e,col:t}},Q=function(e){var t=e.row,r=e.col,o=e.value,n=e.off;return{type:b,row:t,col:r,value:o,off:n}},$=function(){return{type:m}},ee=function(e){var t=e.value,r=e.row,o=e.col;return{type:g,row:r,col:o,value:t}},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:E,direction:e,value:t}},re=function(e){return{type:O,direction:e}},oe=function(){return{type:C}},ne=function(){return{type:y}},ae=function(e){function t(){return Object(H.a)(this,t),Object(X.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"tool-bar"},a.a.createElement(Y,{gridShifted:this.props.gridShifted,actions:this.props.actions}))}}]),t}(a.a.Component);var ie=Object(i.b)(function(e){return{gridShifted:e.grid.gridShifted}},function(e){return{actions:Object(l.b)(o,e)}})(ae);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}var le=a.a.createElement("path",{d:"M186.1489,98.7495l-2.3828,8.5h-19.5313l-15.6953,58.6802c-7.2344,25.2188-14.1328,44.7734-20.7109,58.6563 c-9.3359,19.5938-19.3828,33.125-30.1328,40.5938c-8.1719,5.7109-16.3516,8.5703-24.5313,8.5703 c-5.3281,0-9.8672-1.6016-13.6016-4.7969c-2.75-2.2266-4.1328-5.1172-4.1328-8.6719c0-2.8438,1.125-5.3125,3.3516-7.3984 c2.2422-2.0938,4.9844-3.1328,8.2266-3.1328c2.375,0,4.3672,0.75,5.9844,2.2656c1.6328,1.5,2.4375,3.2344,2.4375,5.1875 s-0.8516,3.7656-2.5547,5.4531c-1.2969,1.2422-1.9453,2.1719-1.9453,2.7969c0,0.7969,0.3125,1.4219,0.9219,1.8672 c0.7891,0.6172,2.0156,0.9297,3.6719,0.9297c3.7656,0,7.7188-1.1953,11.8672-3.5703c4.1641-2.3828,7.8594-5.9297,11.0859-10.6406 c3.2422-4.7266,6.2969-11.5313,9.1875-20.4297c1.2969-3.6797,4.7734-15.8047,10.4375-36.3672l25.1875-89.9927H117.813l1.8906-8.5 c8.1172,0,13.7891-0.5,17.0234-1.5156c3.2266-1.0156,6.1875-2.9531,8.875-5.8203c2.6875-2.8594,5.8906-8.2109,9.6094-16.0547 c4.9844-10.5703,9.75-18.7656,14.3125-24.5859c6.2422-7.8359,12.8047-13.7188,19.6875-17.6406s13.3672-5.8828,19.4453-5.8828 c6.4141,0,11.5625,1.6953,15.4453,5.0703c3.8828,3.3828,5.8281,7.0469,5.8281,11c0,3.0781-1.0156,5.6641-3.0313,7.7734 s-4.6016,3.1563-7.7578,3.1563c-2.7188,0-4.9375-0.7891-6.6484-2.375c-1.7109-1.5781-2.5625-3.4688-2.5625-5.6719 c0-1.4063,0.5781-3.1406,1.75-5.2109c1.1641-2.0625,1.75-3.4531,1.75-4.1563c0-1.2266-0.3672-2.1484-1.0859-2.7656 c-1.0469-0.875-2.5781-1.3203-4.5938-1.3203c-5.0781,0-9.625,1.8281-13.6563,5.4766 c-5.3984,4.8438-10.2266,12.4141-14.4922,22.7266c-2.1797,5.3906-6.4688,17.9844-12.8672,37.7969H186.1489z"}),se=a.a.createElement("path",{d:"M329.7905,267.75v5c-13.4063-6.6875-24.5938-14.5234-33.5547-23.4922c-12.7813-12.7656-22.6406-27.8125-29.5625-45.1406 s-10.3828-35.3281-10.3828-53.9849c0-27.2734,6.7891-52.1563,20.3672-74.6406s31.2891-38.5625,53.1328-48.2422v5 c-10.9688,6-19.9688,14.1953-27.0078,24.5938c-7.0469,10.4063-12.3047,23.5859-15.7813,39.5391s-5.2109,32.6172-5.2109,49.9844 c0,18.8677,1.4688,36.0161,4.4141,51.438c2.3125,12.1641,5.125,21.9219,8.4219,29.2891 c3.2969,7.3516,7.7266,14.4297,13.2969,21.2188C313.4937,255.0938,320.7827,261.5781,329.7905,267.75z"}),ue=a.a.createElement("path",{d:"M396.0464,95.7495c4.2891,4.5469,7.5313,9.0859,9.7266,13.625c1.5625,3.2344,4.1406,11.7344,7.7188,25.4844 l11.5313-17.6172c3.0547-4.2656,6.7656-8.3359,11.1328-12.2109s8.2109-6.5234,11.5391-7.9453 c2.0938-0.8906,4.4063-1.3359,6.9375-1.3359c3.7578,0,6.75,1.0391,8.9766,3.1016s3.3438,4.5781,3.3438,7.5313 c0,3.4141-0.6563,5.75-1.9609,7c-2.4375,2.25-5.2188,3.3672-8.3516,3.3672c-1.8281,0-3.7813-0.4141-5.8672-1.2578 c-4.0938-1.4922-6.8359-2.2422-8.2266-2.2422c-2.0938,0-4.5703,1.2422-7.4375,3.7188 c-5.3906,4.6016-11.8281,13.4922-19.3125,26.6641l10.7734,45.0396c1.625,6.9219,2.9922,11.0625,4.1016,12.4219 s2.2188,2.0391,3.3281,2.0391c1.7969,0,3.8906-1.0078,6.2813-3.0234c4.6953-4.0313,8.7109-9.2969,12.0469-15.7969l4.625,2.375 c-5.4688,10.3516-12.4063,18.9453-20.8203,25.7813c-4.7734,3.8516-8.8047,5.7813-12.1016,5.7813 c-4.8594,0-8.7188-2.7188-11.5781-8.1484c-1.8281-3.4219-5.5938-18.1563-11.3125-44.2188 c-13.7969,23.7188-24.8516,38.9844-33.1641,45.8047c-5.3984,4.375-10.6172,6.5625-15.6563,6.5625 c-3.5391,0-6.7578-1.2656-9.6797-3.7813c-2.125-1.9063-3.1875-4.4688-3.1875-7.6875c0-2.8594,0.9688-5.25,2.9063-7.1641 c1.9375-1.9063,4.3203-2.8672,7.1328-2.8672s5.8125,1.4609,8.9844,4.3672c2.2891,2.0938,4.0547,3.1328,5.2891,3.1328 c1.0547,0,2.4219-0.6953,4.0938-2.1016c4.1406-3.3281,9.7734-10.5234,16.9063-21.5703s11.8047-19.0234,14.0078-23.9375 c-5.4453-21.7036-8.3828-33.188-8.8203-34.4458c-2.0078-5.8047-4.625-9.9141-7.8438-12.3281 c-3.2188-2.4063-7.9688-3.6172-14.2344-3.6172c-2,0-4.3125,0.0938-6.9219,0.2656v-4.7656L396.0464,95.7495z"}),pe=a.a.createElement("path",{d:"M488.1147,32.2495v-5c13.4922,6.6016,24.7188,14.3906,33.6875,23.3594c12.6875,12.8516,22.5,27.9219,29.4219,45.2109 c6.9219,17.2969,10.3906,35.3125,10.3906,54.0469c0,27.2817-6.7734,52.1567-20.3047,74.6411 c-13.5391,22.4844-31.2734,38.5625-53.1953,48.2422v-5c10.9609-6.0859,19.9844-14.3047,27.0703-24.6563 c7.0859-10.3672,12.3438-23.5391,15.7813-39.5391c3.4297-16,5.1484-32.6797,5.1484-50.0469 c0-18.7817-1.4766-35.9224-4.4141-51.438c-2.2344-12.1641-5.0156-21.9063-8.3594-29.2266 c-3.3438-7.3125-7.7734-14.3672-13.2969-21.1563C504.5132,44.9058,497.2085,38.4214,488.1147,32.2495z"}),de=function(e){return a.a.createElement("svg",ce({fill:"white",width:617.0444,height:301,viewBox:"0 0 617.0444 301",overflow:"visible",enableBackground:"new 0 0 617.0444 301",xmlSpace:"preserve"},e),le,se,ue,pe)},ve=(r.p,function(e){function t(){return Object(H.a)(this,t),Object(X.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"function-bar"},a.a.createElement("div",{className:"function-icon-container"},a.a.createElement(de,{className:"function-icon"})),a.a.createElement("div",{className:"function-display"},this.props.displayValue))}}]),t}(a.a.Component));var fe=Object(i.b)(function(e){var t=e.grid,r=t.cursorLocation;return{displayValue:t.values[r[0]][r[1]].enteredValue||""}})(ve),_e=function(e){function t(){var e,r;Object(H.a)(this,t);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(r=Object(X.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(n)))).renderLabel=function(){var e=r.props,t=e.type,o=e.col,n=e.row;return"col"===t?Object(x.a)(o):"row"===t?n+1:void 0},r.getClass=function(){var e="header-cell ".concat(r.props.type),t="col"===r.props.type?r.props.col:r.props.row;return e+=" color".concat(t%8).concat(r.props.type),r.props.isCursor&&(e+=" header-cursor"),e},r.getStyle=function(){return{width:"".concat(r.props.colWidth,"px")}},r}return Object(J.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:this.getClass(),style:this.getStyle()},this.renderLabel())}}]),t}(a.a.Component);var he=Object(i.b)(function(e){return{gridShifted:e.grid.gridShifted}},function(e){return{actions:Object(l.b)(o,e)}})(_e),we=function(e){function t(){var e,r;Object(H.a)(this,t);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(r=Object(X.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(n)))).totalDisplayCols=function(){return Math.min(r.props.totalCols,r.props.viewportRight)},r.renderHeaderCells=function(){for(var e=[],t=r.props.viewport[1];t<r.totalDisplayCols();t++)e.push(a.a.createElement(he,{type:"col",key:t,col:t,colWidth:r.props.widths[t],isCursor:t===r.props.cursorLocation[1]}));return e},r}return Object(J.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"header-row"},this.renderHeaderCells())}}]),t}(a.a.Component);var be=Object(i.b)(function(e){return{totalCols:e.grid.totalCols,cursorLocation:e.grid.cursorLocation,widths:e.grid.widths,viewport:e.grid.viewport,viewportRight:e.grid.viewportRight}})(we),me=function(e){function t(){var e,r;Object(H.a)(this,t);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(r=Object(X.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(n)))).totalViewportRows=function(){var e=r.props.viewportBottom+r.props.viewport[0];return Math.min(r.props.totalRows,e)},r.renderHeaderCells=function(){for(var e=[],t=r.props.viewport[0];t<r.totalViewportRows();t++)e.push(a.a.createElement(he,{type:"row",key:t,row:t,isCursor:t===r.props.cursorLocation[0]}));return e},r}return Object(J.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"header-column"},this.renderHeaderCells())}}]),t}(a.a.Component);var ge=Object(i.b)(function(e){return{totalRows:e.grid.totalRows,cursorLocation:e.grid.cursorLocation,viewport:e.grid.viewport,viewportBottom:e.grid.viewportBottom}},function(e){return{actions:Object(l.b)(o,e)}})(me),Ee=r(9),Oe=r.n(Ee),ye=function(e){function t(){return Object(H.a)(this,t),Object(X.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"header-cell corner"})}}]),t}(he);ye.propTypes={actions:Oe.a.object};var Ce=function(e){function t(){var e,r;Object(H.a)(this,t);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(r=Object(X.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(n)))).ref=a.a.createRef(),r.state={value:r.props.value},r.handleChange=function(e){r.cursor=e.target.selectionStart,r.setState({value:e.target.value})},r.handleEnter=function(){var e=r.props,t=e.row,o=e.col,n=r.state.value;r.props.actions.setEditing({off:!0}),r.props.actions.setValue({value:n,row:t,col:o}),r.props.handleChange()},r.handleEsc=function(e){r.props.actions.setEditing({off:!0})},r.handleTab=function(e){var t=r.props,o=t.row,n=t.col,a=r.state.value;r.props.actions.setValue({value:a,row:o,col:n}),r.props.actions.setEditing({off:!0}),r.props.handleChange()},r.handleArrow=function(e){var t=r.props,o=t.row,n=t.col,a=r.state.value;r.props.actions.setValue({value:a,row:o,col:n}),r.props.actions.setEditing({off:!0}),r.props.handleChange()},r.handleKeyPress=function(e){switch(e.charCode){case 13:e.preventDefault(),r.handleEnter()}},r.handleKeyDown=function(e){switch(e.key){case"Tab":e.preventDefault(),r.handleTab();break;case"ArrowDown":e.preventDefault(),r.handleArrow();break;case"ArrowLeft":0==r.ref.current.selectionStart&&(e.preventDefault(),r.handleArrow());break;case"ArrowUp":e.preventDefault(),r.handleArrow();break;case"Escape":e.preventDefault(),r.handleEsc()}},r.getClass=function(){return""},r}return Object(J.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){return console.log(this.state,this.state.value),a.a.createElement("div",{className:this.getClass()},a.a.createElement("input",{ref:this.ref,className:"cell-editor-input",type:"text",value:this.state.value,onChange:this.handleChange,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,autoFocus:!0,onFocus:this.onFocus,onBlur:this.onBlur}))}}]),t}(a.a.PureComponent);var je=Object(i.b)(null,function(e){return{actions:Object(l.b)(o,e)}})(Ce),Le=function(e){function t(){var e,r;Object(H.a)(this,t);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(r=Object(X.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(n)))).state={flip:!1},r.getClass=function(){return r.props.isCursor?"cell cursor":"cell"},r.getContainerClass=function(){var e="cell-container";return r.state.flip&&(e+=" flip"),e},r.setFlip=function(){r.setState({flip:!0}),setTimeout(function(){r.setState({flip:!1})},1e3)},r.handleChange=function(){r.setFlip()},r.handleClick=function(){var e=r.props,t=e.row,o=e.col,n=e.actions;e.isCursor||n.setCursor(t,o)},r.handleDoubleClick=function(){var e=r.props,t=e.row,o=e.col,n=e.actions;e.isEditing||(n.setCursor(t,o),n.setEditing({row:t,col:o}))},r}return Object(J.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=[void 0].includes(this.props.cellEditorStartingValue)?this.props.enteredValue:this.props.cellEditorStartingValue,t={width:"".concat(this.props.colWidth,"px")};return a.a.createElement("div",{className:this.getContainerClass(),onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,style:t},a.a.createElement("div",{className:this.getClass()},this.props.isEditing&&a.a.createElement(je,{value:e,row:this.props.row,col:this.props.col,handleChange:this.handleChange}),!this.props.isEditing&&a.a.createElement("div",{className:"cell-display"},this.props.displayValue)))}}]),t}(a.a.Component);var Re=Object(i.b)(null,function(e){return{actions:Object(l.b)(o,e)}})(Le),ke=function(e){function t(){var e,r;Object(H.a)(this,t);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(r=Object(X.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(n)))).totalDisplayCols=function(){return Math.min(r.props.totalCols,r.props.viewportRight)},r.renderCells=function(){for(var e=[],t=r.props.viewport[1];t<r.totalDisplayCols();t++){var o=r.props.editingLocation===t,n=o?r.props.cellEditorStartingValue:void 0;e.push(a.a.createElement(Re,{key:t,col:t,colWidth:r.props.widths[t],row:r.props.row,isCursor:r.props.cursorLocation===t,isEditing:o,cellEditorStartingValue:n,displayValue:r.props.values[t].displayValue,enteredValue:r.props.values[t].enteredValue}))}return e},r}return Object(J.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this.props.gridShifted&&this.props.row%2!==0;return a.a.createElement("div",{className:"row".concat(e?" row-shifted":"")},this.renderCells())}}]),t}(a.a.Component);var Se=Object(i.b)(function(e){return{totalCols:e.grid.totalCols,gridShifted:e.grid.gridShifted,widths:e.grid.widths,viewportRight:e.grid.viewportRight,viewport:e.grid.viewport}})(ke),Ve=function(e){function t(){var e,r;Object(H.a)(this,t);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(r=Object(X.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(n)))).isEditing=function(e){return r.props.editingLocation&&r.props.editingLocation.length&&r.props.editingLocation[0]===e},r.getRowProps=function(e){var t,o,n=r.props.cursorLocation[0]===e?r.props.cursorLocation[1]:void 0;return r.isEditing(e)&&(t=r.props.editingLocation[1],o=r.props.cellEditorStartingValue),{cursorLocation:n,editingLocation:t,cellEditorStartingValue:o}},r.totalViewportRows=function(){var e=r.props.viewportBottom+r.props.viewport[0];return Math.min(r.props.totalRows,e)},r.renderRows=function(){for(var e=[],t=r.props.viewport[0];t<r.totalViewportRows();t++){var o=r.getRowProps(t),n=o.cursorLocation,i=o.editingLocation,c=o.cellEditorStartingValue;e.push(a.a.createElement(Se,{key:t,row:t,editingLocation:i,cursorLocation:n,values:r.props.values[t],cellEditorStartingValue:c,viewport:r.props.viewport[1],viewportRight:r.props.viewportRight}))}return e},r}return Object(J.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"rows"},this.renderRows())}}]),t}(a.a.Component);var De=Object(i.b)(function(e){return{totalRows:e.grid.totalRows,cursorLocation:e.grid.cursorLocation,editingLocation:e.grid.editingLocation,cellEditorStartingValue:e.grid.cellEditorStartingValue,values:e.grid.values,viewport:e.grid.viewport,heights:e.grid.heights,viewportBottom:e.grid.viewportBottom,viewportRight:e.grid.viewportRight}})(Ve),Me=r(10),Pe=r(26),Ae=r.n(Pe),Ne=new Set("1234567890-=!@#$%^&*()_+qwertyuiop[]QWERTYUIOP{}|asdfghjkl;ASDFGHJKL:zxcvbnm,./ZXCVBNM<>?".split("")),Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ae()(function(){e.apply(void 0,arguments)},t)},Te=function(e){function t(){var e,r;Object(H.a)(this,t);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(r=Object(X.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(n)))).keyMap={},r.wheel=function(e){e.preventDefault(),e.deltaX>10&&r.scroll(k),e.deltaX<-10&&r.scroll(R),e.deltaY>10&&r.scroll(L),e.deltaY<-10&&r.scroll(j)},r.keyUp=function(e){r.removeKey(e.keyCode)},r.isCommandKeyPressed=function(){return r.keyMap[91]||r.keyMap[93]},r.addKey=function(e){r.keyMap[e]=!0},r.removeKey=function(e){r.keyMap[e]=!1},r.keyDown=function(e){if(r.addKey(e.keyCode),!r.props.editingLocation||!r.props.editingLocation.length)switch(console.log(e.keyCode),e.keyCode){case 37:e.preventDefault(),r.keyMap[18]?r.scroll(R):r.isCommandKeyPressed()?r.jump(R):r.moveCursor(-1,0);break;case 38:e.preventDefault(),r.keyMap[18]?r.scroll(j):r.isCommandKeyPressed()?r.jump(j):r.moveCursor(0,-1);break;case 39:e.preventDefault(),r.keyMap[18]?r.scroll(k):r.isCommandKeyPressed()?r.jump(k):r.moveCursor(1,0);break;case 40:e.preventDefault(),r.keyMap[18]?r.scroll(L):r.isCommandKeyPressed()?r.jump(L):r.moveCursor(0,1);break;case 9:e.preventDefault(),r.keyMap[16]?r.moveCursor(-1,0):r.moveCursor(1,0);break;case 8:e.preventDefault(),r.handleBackspace();break;case 13:e.preventDefault(),r.enterEdit();break;default:e.preventDefault(),Ne.has(e.key)&&r.enterEdit(e.key)}},r.handleBackspace=function(){r.enterEdit("")},r.enterEdit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;r.props.actions.setEditing({row:r.props.cursorLocation[0],col:r.props.cursorLocation[1],value:e})},r.jump=function(e){r.props.actions.jump(e)},r._moveCursor=function(e,t){var o=r.props,n=o.cursorLocation,a=o.actions,i=[t+n[0],e+n[1]];a.setCursor.apply(a,i)},r._scroll=function(e){r.props.actions.scroll(e)},r.scroll=Be(r._scroll).bind(Object(Me.a)(Object(Me.a)(r))),r.moveCursor=Be(r._moveCursor).bind(Object(Me.a)(Object(Me.a)(r))),r}return Object(J.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.keyDown.bind(this)),window.addEventListener("keyup",this.keyUp.bind(this)),window.addEventListener("wheel",this.wheel.bind(this))}},{key:"render",value:function(){return null}}]),t}(a.a.Component);var Ue=Object(i.b)(function(e){return{cursorLocation:e.grid.cursorLocation,editingLocation:e.grid.editingLocation}},function(e){return{actions:Object(l.b)(o,e)}})(Te),Ke=function(e){function t(){return Object(H.a)(this,t),Object(X.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(q.a)(t,[{key:"componentWillMount",value:function(){this.props.actions.refreshViewportDimensions()}},{key:"componentDidMount",value:function(){window.scroll(0,0)}},{key:"render",value:function(){return a.a.createElement("div",{className:"viewport"},a.a.createElement(Ue,null),a.a.createElement(ye,null),a.a.createElement(be,null),a.a.createElement(ge,null),a.a.createElement(De,null))}}]),t}(a.a.Component);var Ie=Object(i.b)(function(e){return{}},function(e){return{actions:Object(l.b)(o,e)}})(Ke),xe=function(e){function t(){return Object(H.a)(this,t),Object(X.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"app"},a.a.createElement("div",{className:"upper section"},a.a.createElement("div",{className:"menu-bar"},"Menus"),a.a.createElement(ie,null),a.a.createElement(fe,null)),a.a.createElement(Ie,null))}}]),t}(n.Component);r(45);Object(c.render)(a.a.createElement(i.a,{store:G},a.a.createElement(xe,null)),document.getElementById("root"))}},[[28,2,1]]]);
//# sourceMappingURL=main.89d01a8f.chunk.js.map